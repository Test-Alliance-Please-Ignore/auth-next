import { DurableObject } from 'cloudflare:workers'

import { logger } from '@repo/hono-helpers'

import type { Env } from './context'

// ========== Internal Types (SQLite data structures - snake_case) ==========

// Add your SQLite row types here (snake_case)
// Example:
// export interface ExampleData extends Record<string, number | string> {
// 	id: string
// 	created_at: number
// 	updated_at: number
// }

// ========== Public Types (External API - camelCase) ==========

// Add your public types here (camelCase)
// Example:
// export interface Example {
// 	id: string
// 	createdAt: number
// 	updatedAt: number
// }

/**
 * {{ pascal name }} Durable Object Implementation
 *
 * {{ description }}
 */
export class {{ pascal name }} extends DurableObject<Env> {
	constructor(ctx: DurableObjectState, env: Env) {
		super(ctx, env)
	}

	// ========== Public Methods ==========

	async exampleMethod(): Promise<string> {
		// TODO: Implement your method
		logger
			.withTags({
				type: 'example_method_called',
			})
			.info('Example method called')

		return 'Hello from {{ pascal name }}!'
	}
}
